{% extends "common/base.html" %}
{% load i18n %}
{% load bootstrap4 %}


{% block top_bar %} {% include "common/navbar.html" %} {% endblock top_bar %}
{% block sidebar %} {% include "common/sidebar.html" %} {% endblock sidebar %}
{% block message %} {% include "common/message.html" %} {% endblock message %}
{% block main %}
<div class="col-md-10 col-lg-10 offset-md-2 card-col">       
            <div class="card card-default">
                <div class="card-body">
                    <label class="list-employee">{% trans "List of Employee" %}</label>
                    {% if user.is_staff %}
                    <a class="btn btn-danger btn-sm pull-right plus-employee" 
                        href="{% url 'employee:employee_add'%}" data-toggle="modal">
                    <i class="fa fa-plus"  aria-hidden="true"></i>
                    {% trans "Employee" %}
                    </a>
                    {% endif %}
                    <table class="table table-bordered">
                        <thead class="thead-dark">
                            <tr>
                                {% comment %} <th>Employee ID</th> {% endcomment %}
                                <th>{% trans "Employee Name" %}</th>
                                <th>{% trans "Branch" %}</th>
                                <th>{% trans "Position" %}</th>
                                <th>{% trans "Company Status" %}</th>
                                <th>{% trans "Date Hired" %}</th>
                                <th>{% trans "Supervisor" %}</th>
                                <th>{% trans "Added by" %}</th>
                                <th>{% trans "Status" %}</th>
                                <th>{% trans "Actions" %}</th>
                            </tr>
                        </thead>
                        <tbody>

                                {% for employees in page_obj.object_list  %}
                            <tr></tr>
                                {% comment %} <td>{{ employees.employee_id }} </td> {% endcomment %}
                                <td>
                                <b><a href="{% url 'employee:employee_update' pk=employees.employee_id %}">
                                {{ employees.get_employee_name }}</a></b></td>
                                <td>{{ employees.branch }}</td>
                               <td>{{ employees.jobdescription.job_name }}</td>
                                <td>{{ employees.company_status }}</td>
                                 <td>{{ employees.date_hired }}</td>
                              <td>{{ employees.supervisor.get_supervisor_name }}</td>
                              <td>{{ employees.user_change_by}}</td>
                                {% if employees.status == 'Active' %}
                                     <td><a href="" class="btn btn-success btn-xs">{% trans "Active" %}</a></td>
                                {% else %}
                                     <td><a href="" class="btn btn-danger btn-xs">{% trans "Deactivate" %}</a></td>
                                {% endif %}
                            <td>
                        {% if user.is_staff %}
                    <a href="{% url 'employee:employee_update' pk=employees.employee_id %}" 
                            class="btn btn-primary btn-xs edit-users">
                        <i class="fa fa-pencil" aria-hidden="true"></i>
                    </a>

                    <button type="button" class="btn btn-success btn-xs read-employee" 
                        data-id = "{% url 'employee:employee_read' pk=employees.employee_id %}"
                    data-toggle="modal" data-target="#modal">
                        <i class="fa fa-eye" aria-hidden="true"></i>
                    </button>
                    <button type="button" data-id="{% url 'employee:employee_delete' pk=employees.employee_id %}" 
                    class="btn btn-warning btn-xs delete-employee" data-toggle="modal" data-target="#modal">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        </button>
                            </td>
                            {% else %}          
                            <button type="button" class="btn btn-success btn-xs read-employee" 
                                data-id = "{% url 'employee:employee_read' pk=employees.employee_id %}"
                            data-toggle="modal" data-target="#modal">
                                <i class="fa fa-eye" aria-hidden="true"></i>
                            </button>
                            <button type="button" class="btn btn-warning btn-xs read-employee" 
                            data-id = "{% url 'employee:employee_read' pk=employees.employee_id %}"
                            data-toggle="modal" data-target="#modal">
                            <i class="fa fa-calendar" aria-hidden="true"></i>
                            </button>
                        {% endif %}
                            </tr>
                            {% empty %}
                                  <p class="font-weight-bold">{% trans "No Employees has been added try adding" %} 
                                  <a href="{% url 'employee:employee_add'%}">{% trans "here" %}</a></p>
                                  <p class="mb-0"></p>
                                {% endfor %}

                        </tbody>
                    </table>             
{% endblock main %}
